<div style="position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; width: auto; max-width: 90%;">
    {% if messages %}
    <div class="container">
        {% for message in messages %}
            {% if message.tags == 'info' %}
                <div class="alert alert-info alert-dismissible fade show auto-dismiss" role="alert">
                    <strong>{{ message.tags }}! </strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="progress position-absolute" style="bottom: 0; left: 0; width: 100%; height: 4px;">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 100%; transition: width 5s linear;"></div>
                    </div>
                </div>
            {% elif message.tags == 'debug' %}
                <div class="alert alert-dark alert-dismissible fade show auto-dismiss" role="alert">
                    <strong>{{ message.tags }}! </strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="progress position-absolute" style="bottom: 0; left: 0; width: 100%; height: 4px;">
                        <div class="progress-bar bg-dark" role="progressbar" style="width: 100%; transition: width 5s linear;"></div>
                    </div>
                </div>
            {% elif message.tags == 'success' %}
                <div class="alert alert-success alert-dismissible fade show auto-dismiss" role="alert">
                    <strong>{{ message.tags }}! </strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="progress position-absolute" style="bottom: 0; left: 0; width: 100%; height: 4px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%; transition: width 5s linear;"></div>
                    </div>
                </div>
            {% elif message.tags == 'error' %}
                <div class="alert alert-danger alert-dismissible fade show auto-dismiss" role="alert">
                    <strong>{{ message.tags }}! </strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="progress position-absolute" style="bottom: 0; left: 0; width: 100%; height: 4px;">
                        <div class="progress-bar bg-danger" role="progressbar" style="width: 100%; transition: width 5s linear;"></div>
                    </div>
                </div>
            {% else %}
                <div class="alert alert-warning alert-dismissible fade show auto-dismiss" role="alert">
                    <strong>{{ message.tags }}! </strong> {{ message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <div class="progress position-absolute" style="bottom: 0; left: 0; width: 100%; height: 4px;">
                        <div class="progress-bar bg-warning" role="progressbar" style="width: 100%; transition: width 5s linear;"></div>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
    {% endif %}
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const alerts = document.querySelectorAll('.auto-dismiss');
    alerts.forEach(alert => {
      const progress = alert.querySelector('.progress-bar');

      setTimeout(() => {
        alert.classList.remove('show');
        alert.classList.add('fade');
        setTimeout(() => alert.remove(), 300);
      }, 3000);

      if (progress) {
        progress.style.width = '0%';
      }
    });
  });
</script>
